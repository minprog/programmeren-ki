grades:
    scratch:
        type: float
        subgrades:
            correctness: integer
        calculation: -((correctness+2)/5)
        automatic:
            correctness: (check_score * 5).round
        hide_calculated: true
    mario_less: &grade
        type: float
        subgrades:
            correctness: integer
            design: integer
            style: integer
            penalty: integer
        automatic:
            correctness: (check_score * 5).round
            style: (style_score / 5.0 * 3).round.to_i
            penalty: "0"
        calculation: ((3 * correctness + 3 * design + 1 * style - 7) / 28.0 * 9 + 1).round(1) - penalty.abs
        hide_calculated: true
    mario_more: *grade
    cash: *grade
    credit: *grade
    caesar: *grade
    vigenere: *grade
    crack: *grade
    find_less: *grade
    find_more: *grade
    fifteen: *grade
    resize_less: *grade
    resize_more: *grade
    recover: *grade
    hello_py: *grade
    mario_py: *grade
    cash_py: *grade
    caesar_py: *grade
    vigenere_py: *grade
    find_py: *grade
    fifteen_py: *grade
    tweet: *grade
    climate: &cor_grade
        type: float
        subgrades:
            correctness: integer
            design: integer
            style: integer
            penalty: integer
        automatic:
            correctness: (check_score * 5).round
            penalty: "0"
        calculation: ((3 * correctness + 3 * design + 1 * style - 7) / 28.0 * 9 + 1).round(1)
        hide_calculated: true
    sudoku: *cor_grade
    adventure: *grade
    tentamen1:
        type: float
        subgrades:
            points: integer
        calculation: "[(9.0 / 22.0 * points - (5 + 3.0 / 22.0)).round(1), 1].max"
        hide_calculated: false
    tentamen2:
        type: float
        subgrades:
            points: integer
        calculation: "[(0.4 * points + 0.4).round(1), 1].max"
        hide_calculated: false
    hertentamen:
        type: float
        subgrades:
            points: integer
        calculation: (points / 32.0 * 9 + 1).round(1)

calculation:
    resit:
        hertentamens: 40
        psets: 60
    normal:
        tentamens: 40
        psets: 60

psets:
    submits:
        mario: [5, mario_less, mario_more, resize_less, resize_more]
        cash: [5, cash, credit, recover]
        caesar: 5
        vigenere: [5, vigenere, crack]
        find: [4, find_less, find_more]
        fifteen: 6
        mario_py: [2, mario_py, cash_py]
        caesar_py: [2, caesar_py, vigenere_py]
        find_py: [2, find_py, fifteen_py]
        tweet: 4
        climate: 4
        sudoku: 6
        adventure: 10

tentamens:
    minimum: 5.5
    submits:
        tentamen1: 1
        tentamen2: 1

hertentamens:
    minimum: 5.5
    submits:
        hertentamen: 1
